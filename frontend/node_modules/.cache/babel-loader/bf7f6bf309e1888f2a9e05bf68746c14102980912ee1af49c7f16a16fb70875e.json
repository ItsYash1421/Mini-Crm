{"ast":null,"code":"var _jsxFileName = \"/Users/yashkumarmeena/Desktop/Assigment/mini-crm/frontend/src/components/Header.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { AppBar, Toolbar, Typography, Button, Box, Avatar, Menu, MenuItem, IconButton, useTheme, alpha, Container, Tooltip, Badge, useMediaQuery, Drawer, List, ListItemButton, ListItemIcon, ListItemText, Divider, Chip } from '@mui/material';\nimport { Link, useNavigate, useLocation } from 'react-router-dom';\nimport MenuIcon from '@mui/icons-material/Menu';\nimport DashboardIcon from '@mui/icons-material/Dashboard';\nimport CampaignIcon from '@mui/icons-material/Campaign';\nimport PeopleIcon from '@mui/icons-material/People';\nimport AccountCircleIcon from '@mui/icons-material/AccountCircle';\nimport LogoutIcon from '@mui/icons-material/Logout';\nimport NotificationsIcon from '@mui/icons-material/Notifications';\nimport axios from 'axios';\nimport config from '../config';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Header = () => {\n  _s();\n  const [user, setUser] = useState(null);\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);\n  const [notificationsAnchor, setNotificationsAnchor] = useState(null);\n  const [notifications, setNotifications] = useState([]);\n  const [unreadCount, setUnreadCount] = useState(0);\n  const navigate = useNavigate();\n  const location = useLocation();\n  const theme = useTheme();\n  const isMobile = useMediaQuery(theme.breakpoints.down('md'));\n  useEffect(() => {\n    const userInfo = localStorage.getItem('userInfo');\n    if (userInfo) {\n      try {\n        const parsedUserInfo = JSON.parse(userInfo);\n        console.log('User info loaded:', parsedUserInfo); // Debug log\n        setUser(parsedUserInfo);\n      } catch (error) {\n        console.error('Failed to parse user info:', error);\n        localStorage.removeItem('userInfo');\n        localStorage.removeItem('token');\n        setUser(null);\n      }\n    }\n  }, []);\n\n  // Add debug log for user state\n  useEffect(() => {\n    console.log('Current user state:', user);\n  }, [user]);\n  useEffect(() => {\n    const fetchNotifications = async () => {\n      try {\n        const token = localStorage.getItem('token');\n        if (!token) {\n          console.log('No authentication token found');\n          return;\n        }\n        const response = await axios.get(`${config.API_URL}/api/notifications`, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        console.log('Fetched notifications:', response.data);\n        setNotifications(response.data);\n        setUnreadCount(response.data.filter(n => !n.read).length);\n      } catch (error) {\n        console.error('Error fetching notifications:', error);\n      }\n    };\n    fetchNotifications();\n    // Set up polling for new notifications every minute\n    const interval = setInterval(fetchNotifications, 60000);\n    return () => clearInterval(interval);\n  }, []);\n  const handleMenu = event => {\n    setAnchorEl(event.currentTarget);\n  };\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n  const handleNotificationsOpen = async event => {\n    setNotificationsAnchor(event.currentTarget);\n\n    // Mark notifications as read when opening the menu\n    try {\n      const token = localStorage.getItem('token');\n      if (!token) return;\n\n      // Get unread notifications\n      const unreadNotifications = notifications.filter(n => !n.read);\n      if (unreadNotifications.length === 0) return;\n\n      // Mark all notifications as read using the correct endpoint\n      await axios.put(`${config.API_URL}/api/notifications/read-all`, {}, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n\n      // Update local state\n      const updatedNotifications = notifications.map(n => ({\n        ...n,\n        read: true\n      }));\n      setNotifications(updatedNotifications);\n      setUnreadCount(0);\n\n      // Refresh notifications after marking as read\n      const response = await axios.get(`${config.API_URL}/api/notifications`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setNotifications(response.data);\n      setUnreadCount(response.data.filter(n => !n.read).length);\n    } catch (error) {\n      console.error('Error marking notifications as read:', error);\n    }\n  };\n  const handleNotificationsClose = () => {\n    setNotificationsAnchor(null);\n  };\n  const handleLogout = () => {\n    // Clear all auth data\n    localStorage.removeItem('userInfo');\n    localStorage.removeItem('token');\n    setUser(null);\n    setAnchorEl(null);\n    setNotificationsAnchor(null);\n    setMobileMenuOpen(false);\n\n    // Force redirect to login page\n    window.location.href = '/login';\n  };\n  const isActive = path => location.pathname === path;\n  const navItems = [{\n    text: 'Dashboard',\n    icon: /*#__PURE__*/_jsxDEV(DashboardIcon, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 32\n    }, this),\n    path: '/'\n  }, {\n    text: 'Campaigns',\n    icon: /*#__PURE__*/_jsxDEV(CampaignIcon, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 32\n    }, this),\n    path: '/campaigns'\n  }];\n  const renderNavItems = () => /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      display: 'flex',\n      alignItems: 'center',\n      gap: 2\n    },\n    children: navItems.map(item => /*#__PURE__*/_jsxDEV(Button, {\n      component: Link,\n      to: item.path,\n      startIcon: item.icon,\n      sx: {\n        color: isActive(item.path) ? '#fff' : alpha('#fff', 0.8),\n        position: 'relative',\n        '&::after': {\n          content: '\"\"',\n          position: 'absolute',\n          bottom: -2,\n          left: 0,\n          width: isActive(item.path) ? '100%' : '0%',\n          height: 2,\n          backgroundColor: '#fff',\n          transition: 'width 0.3s ease-in-out'\n        },\n        '&:hover': {\n          backgroundColor: alpha('#fff', 0.1),\n          color: '#fff'\n        },\n        '&:hover::after': {\n          width: '100%'\n        }\n      },\n      children: item.text\n    }, item.text, false, {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 180,\n    columnNumber: 5\n  }, this);\n  const renderMobileMenu = () => /*#__PURE__*/_jsxDEV(Drawer, {\n    anchor: \"left\",\n    open: mobileMenuOpen,\n    onClose: () => setMobileMenuOpen(false),\n    PaperProps: {\n      sx: {\n        width: 280,\n        background: alpha(theme.palette.background.paper, 0.95),\n        backdropFilter: 'blur(10px)'\n      }\n    },\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        p: 2,\n        display: 'flex',\n        alignItems: 'center',\n        gap: 2\n      },\n      children: [/*#__PURE__*/_jsxDEV(Avatar, {\n        src: user === null || user === void 0 ? void 0 : user.picture,\n        alt: user === null || user === void 0 ? void 0 : user.name,\n        sx: {\n          width: 56,\n          height: 56,\n          border: `2px solid ${alpha(theme.palette.primary.main, 0.2)}`\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"subtitle1\",\n          children: user === null || user === void 0 ? void 0 : user.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body2\",\n          color: \"text.secondary\",\n          children: user === null || user === void 0 ? void 0 : user.email\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(List, {\n      children: [navItems.map(item => /*#__PURE__*/_jsxDEV(ListItemButton, {\n        onClick: () => {\n          navigate(item.path);\n          setMobileMenuOpen(false);\n        },\n        selected: isActive(item.path),\n        sx: {\n          '&.Mui-selected': {\n            backgroundColor: alpha(theme.palette.primary.main, 0.1)\n          }\n        },\n        children: [/*#__PURE__*/_jsxDEV(ListItemIcon, {\n          sx: {\n            color: isActive(item.path) ? theme.palette.primary.main : 'inherit'\n          },\n          children: item.icon\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n          primary: item.text\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 13\n        }, this)]\n      }, item.text, true, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ListItemButton, {\n        onClick: () => {\n          navigate('/profile');\n          setMobileMenuOpen(false);\n        },\n        children: [/*#__PURE__*/_jsxDEV(ListItemIcon, {\n          children: /*#__PURE__*/_jsxDEV(AccountCircleIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n          primary: \"Profile\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ListItemButton, {\n        onClick: handleLogout,\n        children: [/*#__PURE__*/_jsxDEV(ListItemIcon, {\n          children: /*#__PURE__*/_jsxDEV(LogoutIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n          primary: \"Logout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 216,\n    columnNumber: 5\n  }, this);\n  const getNotificationIcon = type => {\n    switch (type) {\n      case 'campaign':\n        return /*#__PURE__*/_jsxDEV(CampaignIcon, {\n          fontSize: \"small\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 16\n        }, this);\n      case 'customer':\n        return /*#__PURE__*/_jsxDEV(PeopleIcon, {\n          fontSize: \"small\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 16\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(NotificationsIcon, {\n          fontSize: \"small\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 16\n        }, this);\n    }\n  };\n  const getNotificationColor = type => {\n    switch (type) {\n      case 'campaign':\n        return 'primary';\n      case 'customer':\n        return 'success';\n      default:\n        return 'default';\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(AppBar, {\n    position: \"fixed\",\n    sx: {\n      background: 'linear-gradient(45deg, #1976d2 30%, #2196f3 90%)',\n      boxShadow: '0 2px 10px rgba(0,0,0,0.1)'\n    },\n    children: [/*#__PURE__*/_jsxDEV(Container, {\n      maxWidth: \"xl\",\n      children: /*#__PURE__*/_jsxDEV(Toolbar, {\n        disableGutters: true,\n        children: [isMobile ? /*#__PURE__*/_jsxDEV(IconButton, {\n          edge: \"start\",\n          color: \"inherit\",\n          \"aria-label\": \"menu\",\n          onClick: () => setMobileMenuOpen(true),\n          sx: {\n            mr: 2\n          },\n          children: /*#__PURE__*/_jsxDEV(MenuIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 13\n        }, this) : null, /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          component: Link,\n          to: \"/\",\n          sx: {\n            flexGrow: 1,\n            textDecoration: 'none',\n            color: '#fff',\n            display: 'flex',\n            alignItems: 'center',\n            gap: 1\n          },\n          children: [/*#__PURE__*/_jsxDEV(CampaignIcon, {\n            sx: {\n              color: '#fff'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 348,\n            columnNumber: 13\n          }, this), \"Mini CRM\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 11\n        }, this), !isMobile && renderNavItems(), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            alignItems: 'center',\n            gap: 1,\n            ml: 2\n          },\n          children: [/*#__PURE__*/_jsxDEV(Tooltip, {\n            title: \"Notifications\",\n            children: /*#__PURE__*/_jsxDEV(IconButton, {\n              color: \"inherit\",\n              onClick: handleNotificationsOpen,\n              sx: {\n                '&:hover': {\n                  backgroundColor: alpha('#fff', 0.1)\n                }\n              },\n              children: /*#__PURE__*/_jsxDEV(Badge, {\n                badgeContent: unreadCount,\n                color: \"error\",\n                children: /*#__PURE__*/_jsxDEV(NotificationsIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 366,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 365,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 356,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 355,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n            title: (user === null || user === void 0 ? void 0 : user.name) || 'Account',\n            children: /*#__PURE__*/_jsxDEV(IconButton, {\n              onClick: handleMenu,\n              sx: {\n                p: 0,\n                '&:hover': {\n                  transform: 'scale(1.05)',\n                  transition: 'transform 0.2s ease-in-out'\n                }\n              },\n              children: /*#__PURE__*/_jsxDEV(Avatar, {\n                src: user === null || user === void 0 ? void 0 : user.picture,\n                alt: (user === null || user === void 0 ? void 0 : user.name) || 'User',\n                sx: {\n                  width: 40,\n                  height: 40,\n                  border: `2px solid ${alpha('#fff', 0.2)}`,\n                  bgcolor: user !== null && user !== void 0 && user.picture ? 'transparent' : theme.palette.primary.dark\n                },\n                children: !(user !== null && user !== void 0 && user.picture) && user !== null && user !== void 0 && user.name ? user.name.charAt(0).toUpperCase() : null\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 382,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 372,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 371,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Menu, {\n          anchorEl: anchorEl,\n          open: Boolean(anchorEl),\n          onClose: handleClose,\n          PaperProps: {\n            sx: {\n              mt: 1.5,\n              minWidth: 200,\n              background: alpha(theme.palette.background.paper, 0.95),\n              backdropFilter: 'blur(10px)',\n              boxShadow: theme.shadows[3]\n            }\n          },\n          transformOrigin: {\n            horizontal: 'right',\n            vertical: 'top'\n          },\n          anchorOrigin: {\n            horizontal: 'right',\n            vertical: 'bottom'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              p: 2,\n              borderBottom: `1px solid ${alpha(theme.palette.divider, 0.1)}`\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"subtitle1\",\n              children: (user === null || user === void 0 ? void 0 : user.name) || 'User'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 415,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              color: \"text.secondary\",\n              children: (user === null || user === void 0 ? void 0 : user.email) || 'user@example.com'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 416,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 414,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n            component: Link,\n            to: \"/profile\",\n            onClick: handleClose,\n            children: [/*#__PURE__*/_jsxDEV(ListItemIcon, {\n              children: /*#__PURE__*/_jsxDEV(AccountCircleIcon, {\n                fontSize: \"small\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 422,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 421,\n              columnNumber: 15\n            }, this), \"Profile\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 420,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n            onClick: handleLogout,\n            children: [/*#__PURE__*/_jsxDEV(ListItemIcon, {\n              children: /*#__PURE__*/_jsxDEV(LogoutIcon, {\n                fontSize: \"small\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 428,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 427,\n              columnNumber: 15\n            }, this), \"Logout\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 426,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 398,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Menu, {\n          anchorEl: notificationsAnchor,\n          open: Boolean(notificationsAnchor),\n          onClose: handleNotificationsClose,\n          PaperProps: {\n            sx: {\n              mt: 1.5,\n              minWidth: 300,\n              maxHeight: 400,\n              background: alpha(theme.palette.background.paper, 0.95),\n              backdropFilter: 'blur(10px)',\n              boxShadow: theme.shadows[3]\n            }\n          },\n          transformOrigin: {\n            horizontal: 'right',\n            vertical: 'top'\n          },\n          anchorOrigin: {\n            horizontal: 'right',\n            vertical: 'bottom'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              p: 2,\n              borderBottom: `1px solid ${alpha(theme.palette.divider, 0.1)}`\n            },\n            children: /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              children: \"Notifications\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 452,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 451,\n            columnNumber: 13\n          }, this), notifications.length > 0 ? notifications.map(notification => /*#__PURE__*/_jsxDEV(MenuItem, {\n            sx: {\n              backgroundColor: notification.read ? 'inherit' : alpha(theme.palette.primary.main, 0.05)\n            },\n            children: /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                p: 1,\n                width: '100%'\n              },\n              children: [/*#__PURE__*/_jsxDEV(Box, {\n                sx: {\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: 1,\n                  mb: 0.5\n                },\n                children: [getNotificationIcon(notification.type), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"subtitle2\",\n                  children: notification.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 465,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Chip, {\n                  label: notification.type,\n                  size: \"small\",\n                  color: getNotificationColor(notification.type),\n                  sx: {\n                    ml: 'auto'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 466,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 463,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                color: \"text.secondary\",\n                children: notification.message\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 473,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"caption\",\n                color: \"text.secondary\",\n                sx: {\n                  display: 'block',\n                  mt: 0.5\n                },\n                children: new Date(notification.timestamp).toLocaleString()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 476,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 462,\n              columnNumber: 19\n            }, this)\n          }, notification.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 456,\n            columnNumber: 17\n          }, this)) : /*#__PURE__*/_jsxDEV(MenuItem, {\n            disabled: true,\n            children: /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              color: \"text.secondary\",\n              sx: {\n                p: 2,\n                textAlign: 'center',\n                width: '100%'\n              },\n              children: \"No notifications\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 484,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 483,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 434,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 7\n    }, this), renderMobileMenu()]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 314,\n    columnNumber: 5\n  }, this);\n};\n_s(Header, \"TbiirFAoOKgrdhYkeNMYoL3W4vE=\", false, function () {\n  return [useNavigate, useLocation, useTheme, useMediaQuery];\n});\n_c = Header;\nexport default Header;\nvar _c;\n$RefreshReg$(_c, \"Header\");","map":{"version":3,"names":["React","useState","useEffect","AppBar","Toolbar","Typography","Button","Box","Avatar","Menu","MenuItem","IconButton","useTheme","alpha","Container","Tooltip","Badge","useMediaQuery","Drawer","List","ListItemButton","ListItemIcon","ListItemText","Divider","Chip","Link","useNavigate","useLocation","MenuIcon","DashboardIcon","CampaignIcon","PeopleIcon","AccountCircleIcon","LogoutIcon","NotificationsIcon","axios","config","jsxDEV","_jsxDEV","Header","_s","user","setUser","anchorEl","setAnchorEl","mobileMenuOpen","setMobileMenuOpen","notificationsAnchor","setNotificationsAnchor","notifications","setNotifications","unreadCount","setUnreadCount","navigate","location","theme","isMobile","breakpoints","down","userInfo","localStorage","getItem","parsedUserInfo","JSON","parse","console","log","error","removeItem","fetchNotifications","token","response","get","API_URL","headers","Authorization","data","filter","n","read","length","interval","setInterval","clearInterval","handleMenu","event","currentTarget","handleClose","handleNotificationsOpen","unreadNotifications","put","updatedNotifications","map","handleNotificationsClose","handleLogout","window","href","isActive","path","pathname","navItems","text","icon","fileName","_jsxFileName","lineNumber","columnNumber","renderNavItems","sx","display","alignItems","gap","children","item","component","to","startIcon","color","position","content","bottom","left","width","height","backgroundColor","transition","renderMobileMenu","anchor","open","onClose","PaperProps","background","palette","paper","backdropFilter","p","src","picture","alt","name","border","primary","main","variant","email","onClick","selected","getNotificationIcon","type","fontSize","getNotificationColor","boxShadow","maxWidth","disableGutters","edge","mr","flexGrow","textDecoration","ml","title","badgeContent","transform","bgcolor","dark","charAt","toUpperCase","Boolean","mt","minWidth","shadows","transformOrigin","horizontal","vertical","anchorOrigin","borderBottom","divider","maxHeight","notification","mb","label","size","message","Date","timestamp","toLocaleString","id","disabled","textAlign","_c","$RefreshReg$"],"sources":["/Users/yashkumarmeena/Desktop/Assigment/mini-crm/frontend/src/components/Header.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {\n  AppBar,\n  Toolbar,\n  Typography,\n  Button,\n  Box,\n  Avatar,\n  Menu,\n  MenuItem,\n  IconButton,\n  useTheme,\n  alpha,\n  Container,\n  Tooltip,\n  Badge,\n  useMediaQuery,\n  Drawer,\n  List,\n  ListItemButton,\n  ListItemIcon,\n  ListItemText,\n  Divider,\n  Chip,\n} from '@mui/material';\nimport { Link, useNavigate, useLocation } from 'react-router-dom';\nimport MenuIcon from '@mui/icons-material/Menu';\nimport DashboardIcon from '@mui/icons-material/Dashboard';\nimport CampaignIcon from '@mui/icons-material/Campaign';\nimport PeopleIcon from '@mui/icons-material/People';\nimport AccountCircleIcon from '@mui/icons-material/AccountCircle';\nimport LogoutIcon from '@mui/icons-material/Logout';\nimport NotificationsIcon from '@mui/icons-material/Notifications';\nimport axios from 'axios';\nimport config from '../config';\n\ninterface Notification {\n  id: string;\n  type: 'campaign' | 'customer' | 'system';\n  title: string;\n  message: string;\n  timestamp: string;\n  read: boolean;\n}\n\nconst Header: React.FC = () => {\n  const [user, setUser] = useState<{ name: string; email: string; picture: string } | null>(null);\n  const [anchorEl, setAnchorEl] = useState<null | HTMLElement>(null);\n  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);\n  const [notificationsAnchor, setNotificationsAnchor] = useState<null | HTMLElement>(null);\n  const [notifications, setNotifications] = useState<Notification[]>([]);\n  const [unreadCount, setUnreadCount] = useState(0);\n  const navigate = useNavigate();\n  const location = useLocation();\n  const theme = useTheme();\n  const isMobile = useMediaQuery(theme.breakpoints.down('md'));\n\n  useEffect(() => {\n    const userInfo = localStorage.getItem('userInfo');\n    if (userInfo) {\n      try {\n        const parsedUserInfo = JSON.parse(userInfo);\n        console.log('User info loaded:', parsedUserInfo); // Debug log\n        setUser(parsedUserInfo);\n      } catch (error) {\n        console.error('Failed to parse user info:', error);\n        localStorage.removeItem('userInfo');\n        localStorage.removeItem('token');\n        setUser(null);\n      }\n    }\n  }, []);\n\n  // Add debug log for user state\n  useEffect(() => {\n    console.log('Current user state:', user);\n  }, [user]);\n\n  useEffect(() => {\n    const fetchNotifications = async () => {\n      try {\n        const token = localStorage.getItem('token');\n        if (!token) {\n          console.log('No authentication token found');\n          return;\n        }\n\n        const response = await axios.get(`${config.API_URL}/api/notifications`, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        console.log('Fetched notifications:', response.data);\n        setNotifications(response.data);\n        setUnreadCount(response.data.filter((n: Notification) => !n.read).length);\n      } catch (error) {\n        console.error('Error fetching notifications:', error);\n      }\n    };\n\n    fetchNotifications();\n    // Set up polling for new notifications every minute\n    const interval = setInterval(fetchNotifications, 60000);\n    return () => clearInterval(interval);\n  }, []);\n\n  const handleMenu = (event: React.MouseEvent<HTMLElement>) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const handleNotificationsOpen = async (event: React.MouseEvent<HTMLElement>) => {\n    setNotificationsAnchor(event.currentTarget);\n    \n    // Mark notifications as read when opening the menu\n    try {\n      const token = localStorage.getItem('token');\n      if (!token) return;\n\n      // Get unread notifications\n      const unreadNotifications = notifications.filter(n => !n.read);\n      if (unreadNotifications.length === 0) return;\n\n      // Mark all notifications as read using the correct endpoint\n      await axios.put(`${config.API_URL}/api/notifications/read-all`, {}, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n\n      // Update local state\n      const updatedNotifications = notifications.map(n => ({\n        ...n,\n        read: true\n      }));\n      setNotifications(updatedNotifications);\n      setUnreadCount(0);\n\n      // Refresh notifications after marking as read\n      const response = await axios.get(`${config.API_URL}/api/notifications`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setNotifications(response.data);\n      setUnreadCount(response.data.filter((n: Notification) => !n.read).length);\n    } catch (error) {\n      console.error('Error marking notifications as read:', error);\n    }\n  };\n\n  const handleNotificationsClose = () => {\n    setNotificationsAnchor(null);\n  };\n\n  const handleLogout = () => {\n    // Clear all auth data\n    localStorage.removeItem('userInfo');\n    localStorage.removeItem('token');\n    setUser(null);\n    setAnchorEl(null);\n    setNotificationsAnchor(null);\n    setMobileMenuOpen(false);\n    \n    // Force redirect to login page\n    window.location.href = '/login';\n  };\n\n  const isActive = (path: string) => location.pathname === path;\n\n  const navItems = [\n    { text: 'Dashboard', icon: <DashboardIcon />, path: '/' },\n    { text: 'Campaigns', icon: <CampaignIcon />, path: '/campaigns' },\n  ];\n\n  const renderNavItems = () => (\n    <Box sx={{ display: 'flex', alignItems: 'center', gap: 2 }}>\n      {navItems.map((item) => (\n        <Button\n          key={item.text}\n          component={Link}\n          to={item.path}\n          startIcon={item.icon}\n          sx={{\n            color: isActive(item.path) ? '#fff' : alpha('#fff', 0.8),\n            position: 'relative',\n            '&::after': {\n              content: '\"\"',\n              position: 'absolute',\n              bottom: -2,\n              left: 0,\n              width: isActive(item.path) ? '100%' : '0%',\n              height: 2,\n              backgroundColor: '#fff',\n              transition: 'width 0.3s ease-in-out',\n            },\n            '&:hover': {\n              backgroundColor: alpha('#fff', 0.1),\n              color: '#fff',\n            },\n            '&:hover::after': {\n              width: '100%',\n            },\n          }}\n        >\n          {item.text}\n        </Button>\n      ))}\n    </Box>\n  );\n\n  const renderMobileMenu = () => (\n    <Drawer\n      anchor=\"left\"\n      open={mobileMenuOpen}\n      onClose={() => setMobileMenuOpen(false)}\n      PaperProps={{\n        sx: {\n          width: 280,\n          background: alpha(theme.palette.background.paper, 0.95),\n          backdropFilter: 'blur(10px)',\n        },\n      }}\n    >\n      <Box sx={{ p: 2, display: 'flex', alignItems: 'center', gap: 2 }}>\n        <Avatar \n          src={user?.picture} \n          alt={user?.name}\n          sx={{\n            width: 56,\n            height: 56,\n            border: `2px solid ${alpha(theme.palette.primary.main, 0.2)}`,\n          }}\n        />\n        <Box>\n          <Typography variant=\"subtitle1\">{user?.name}</Typography>\n          <Typography variant=\"body2\" color=\"text.secondary\">\n            {user?.email}\n          </Typography>\n        </Box>\n      </Box>\n      <Divider />\n      <List>\n        {navItems.map((item) => (\n          <ListItemButton\n            key={item.text}\n            onClick={() => {\n              navigate(item.path);\n              setMobileMenuOpen(false);\n            }}\n            selected={isActive(item.path)}\n            sx={{\n              '&.Mui-selected': {\n                backgroundColor: alpha(theme.palette.primary.main, 0.1),\n              },\n            }}\n          >\n            <ListItemIcon sx={{ color: isActive(item.path) ? theme.palette.primary.main : 'inherit' }}>\n              {item.icon}\n            </ListItemIcon>\n            <ListItemText primary={item.text} />\n          </ListItemButton>\n        ))}\n        <Divider />\n        <ListItemButton\n          onClick={() => {\n            navigate('/profile');\n            setMobileMenuOpen(false);\n          }}\n        >\n          <ListItemIcon>\n            <AccountCircleIcon />\n          </ListItemIcon>\n          <ListItemText primary=\"Profile\" />\n        </ListItemButton>\n        <ListItemButton\n          onClick={handleLogout}\n        >\n          <ListItemIcon>\n            <LogoutIcon />\n          </ListItemIcon>\n          <ListItemText primary=\"Logout\" />\n        </ListItemButton>\n      </List>\n    </Drawer>\n  );\n\n  const getNotificationIcon = (type: string) => {\n    switch (type) {\n      case 'campaign':\n        return <CampaignIcon fontSize=\"small\" />;\n      case 'customer':\n        return <PeopleIcon fontSize=\"small\" />;\n      default:\n        return <NotificationsIcon fontSize=\"small\" />;\n    }\n  };\n\n  const getNotificationColor = (type: string) => {\n    switch (type) {\n      case 'campaign':\n        return 'primary';\n      case 'customer':\n        return 'success';\n      default:\n        return 'default';\n    }\n  };\n\n  return (\n    <AppBar\n      position=\"fixed\"\n      sx={{\n        background: 'linear-gradient(45deg, #1976d2 30%, #2196f3 90%)',\n        boxShadow: '0 2px 10px rgba(0,0,0,0.1)',\n      }}\n    >\n      <Container maxWidth=\"xl\">\n        <Toolbar disableGutters>\n          {isMobile ? (\n            <IconButton\n              edge=\"start\"\n              color=\"inherit\"\n              aria-label=\"menu\"\n              onClick={() => setMobileMenuOpen(true)}\n              sx={{ mr: 2 }}\n            >\n              <MenuIcon />\n            </IconButton>\n          ) : null}\n\n          <Typography\n            variant=\"h6\"\n            component={Link}\n            to=\"/\"\n            sx={{\n              flexGrow: 1,\n              textDecoration: 'none',\n              color: '#fff',\n              display: 'flex',\n              alignItems: 'center',\n              gap: 1,\n            }}\n          >\n            <CampaignIcon sx={{ color: '#fff' }} />\n            Mini CRM\n          </Typography>\n\n          {!isMobile && renderNavItems()}\n\n          <Box sx={{ display: 'flex', alignItems: 'center', gap: 1, ml: 2 }}>\n            <Tooltip title=\"Notifications\">\n              <IconButton\n                color=\"inherit\"\n                onClick={handleNotificationsOpen}\n                sx={{\n                  '&:hover': {\n                    backgroundColor: alpha('#fff', 0.1),\n                  },\n                }}\n              >\n                <Badge badgeContent={unreadCount} color=\"error\">\n                  <NotificationsIcon />\n                </Badge>\n              </IconButton>\n            </Tooltip>\n\n            <Tooltip title={user?.name || 'Account'}>\n              <IconButton\n                onClick={handleMenu}\n                sx={{\n                  p: 0,\n                  '&:hover': {\n                    transform: 'scale(1.05)',\n                    transition: 'transform 0.2s ease-in-out',\n                  },\n                }}\n              >\n                <Avatar\n                  src={user?.picture}\n                  alt={user?.name || 'User'}\n                  sx={{\n                    width: 40,\n                    height: 40,\n                    border: `2px solid ${alpha('#fff', 0.2)}`,\n                    bgcolor: user?.picture ? 'transparent' : theme.palette.primary.dark,\n                  }}\n                >\n                  {!user?.picture && user?.name ? user.name.charAt(0).toUpperCase() : null}\n                </Avatar>\n              </IconButton>\n            </Tooltip>\n          </Box>\n\n          <Menu\n            anchorEl={anchorEl}\n            open={Boolean(anchorEl)}\n            onClose={handleClose}\n            PaperProps={{\n              sx: {\n                mt: 1.5,\n                minWidth: 200,\n                background: alpha(theme.palette.background.paper, 0.95),\n                backdropFilter: 'blur(10px)',\n                boxShadow: theme.shadows[3],\n              },\n            }}\n            transformOrigin={{ horizontal: 'right', vertical: 'top' }}\n            anchorOrigin={{ horizontal: 'right', vertical: 'bottom' }}\n          >\n            <Box sx={{ p: 2, borderBottom: `1px solid ${alpha(theme.palette.divider, 0.1)}` }}>\n              <Typography variant=\"subtitle1\">{user?.name || 'User'}</Typography>\n              <Typography variant=\"body2\" color=\"text.secondary\">\n                {user?.email || 'user@example.com'}\n              </Typography>\n            </Box>\n            <MenuItem component={Link} to=\"/profile\" onClick={handleClose}>\n              <ListItemIcon>\n                <AccountCircleIcon fontSize=\"small\" />\n              </ListItemIcon>\n              Profile\n            </MenuItem>\n            <MenuItem onClick={handleLogout}>\n              <ListItemIcon>\n                <LogoutIcon fontSize=\"small\" />\n              </ListItemIcon>\n              Logout\n            </MenuItem>\n          </Menu>\n\n          <Menu\n            anchorEl={notificationsAnchor}\n            open={Boolean(notificationsAnchor)}\n            onClose={handleNotificationsClose}\n            PaperProps={{\n              sx: {\n                mt: 1.5,\n                minWidth: 300,\n                maxHeight: 400,\n                background: alpha(theme.palette.background.paper, 0.95),\n                backdropFilter: 'blur(10px)',\n                boxShadow: theme.shadows[3],\n              },\n            }}\n            transformOrigin={{ horizontal: 'right', vertical: 'top' }}\n            anchorOrigin={{ horizontal: 'right', vertical: 'bottom' }}\n          >\n            <Box sx={{ p: 2, borderBottom: `1px solid ${alpha(theme.palette.divider, 0.1)}` }}>\n              <Typography variant=\"h6\">Notifications</Typography>\n            </Box>\n            {notifications.length > 0 ? (\n              notifications.map((notification) => (\n                <MenuItem\n                  key={notification.id}\n                  sx={{\n                    backgroundColor: notification.read ? 'inherit' : alpha(theme.palette.primary.main, 0.05),\n                  }}\n                >\n                  <Box sx={{ p: 1, width: '100%' }}>\n                    <Box sx={{ display: 'flex', alignItems: 'center', gap: 1, mb: 0.5 }}>\n                      {getNotificationIcon(notification.type)}\n                      <Typography variant=\"subtitle2\">{notification.title}</Typography>\n                      <Chip\n                        label={notification.type}\n                        size=\"small\"\n                        color={getNotificationColor(notification.type) as any}\n                        sx={{ ml: 'auto' }}\n                      />\n                    </Box>\n                    <Typography variant=\"body2\" color=\"text.secondary\">\n                      {notification.message}\n                    </Typography>\n                    <Typography variant=\"caption\" color=\"text.secondary\" sx={{ display: 'block', mt: 0.5 }}>\n                      {new Date(notification.timestamp).toLocaleString()}\n                    </Typography>\n                  </Box>\n                </MenuItem>\n              ))\n            ) : (\n              <MenuItem disabled>\n                <Typography variant=\"body2\" color=\"text.secondary\" sx={{ p: 2, textAlign: 'center', width: '100%' }}>\n                  No notifications\n                </Typography>\n              </MenuItem>\n            )}\n          </Menu>\n        </Toolbar>\n      </Container>\n      {renderMobileMenu()}\n    </AppBar>\n  );\n};\n\nexport default Header; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}